<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§Ÿè½¦å¹³å°2025æ‰©å¼ æˆ˜ç•¥æ•°æ®Dashboard</title>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=YOUR_AMAP_KEY&plugin=AMap.HeatMap"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .header {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 16px;
        }
        
        .dashboard {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-gap: 20px;
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .panel h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 20px;
            border-left: 4px solid #3498db;
            padding-left: 10px;
        }
        
        .map-panel {
            grid-column: 1 / -1;
            height: 500px;
        }
        
        #mapContainer {
            width: 100%;
            height: 450px;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .stats-table {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }
        
        th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .chart-container {
            height: 400px;
            position: relative;
        }
        
        .metric-card {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
        }
        
        .metric-card h3 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .metric-card p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .legend {
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .map-panel {
                height: 400px;
            }
            
            #mapContainer {
                height: 350px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš— ç§Ÿè½¦å¹³å°2025æ‰©å¼ æˆ˜ç•¥æ•°æ®Dashboard</h1>
        <p>å…¨å›½çƒ­é—¨æ—…æ¸¸ç›®çš„åœ°é—¨åº—æ‰©å¼ è®¡åˆ’å¯è§†åŒ–åˆ†æ</p>
    </div>
    
    <div class="dashboard">
        <!-- çƒ­åŠ›åœ°å›¾ -->
        <div class="panel map-panel">
            <h2>ğŸ—ºï¸ å…¨å›½é—¨åº—å¢é‡çƒ­åŠ›åœ°å›¾</h2>
            <div id="mapContainer"></div>
            <div class="legend">
                <span style="color: #ff4444;">â— é«˜å¢é‡åŒºåŸŸ</span>
                <span style="color: #ffaa00; margin-left: 20px;">â— ä¸­å¢é‡åŒºåŸŸ</span>
                <span style="color: #00ff00; margin-left: 20px;">â— ä½å¢é‡åŒºåŸŸ</span>
            </div>
        </div>
        
        <!-- çœä»½ç»Ÿè®¡è¡¨æ ¼ -->
        <div class="panel">
            <h2>ğŸ“Š å„çœæ‰©å¼ ç»Ÿè®¡æ€»è§ˆ</h2>
            <div class="stats-table">
                <table id="provinceTable">
                    <thead>
                        <tr>
                            <th>çœä»½</th>
                            <th>æ€»å¢é‡</th>
                            <th>2025ç›®æ ‡æ€»æ•°</th>
                            <th>åŸå¸‚æ•°</th>
                            <th>å¹³å‡å¢é‡</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
        
        <!-- Top 10 åŸå¸‚å¢é‡æ’å -->
        <div class="panel">
            <h2>ğŸ† Top 10åŸå¸‚å¢é‡æ’å</h2>
            <div class="chart-container">
                <canvas id="topCitiesChart"></canvas>
            </div>
        </div>
    </div>
    
    <script>
        // åŸå§‹æ•°æ®
        const rawData = `æ± å·	å®‰å¾½	55	72	17	20%	4	æ± å·å¸‚ä¹åå±±é£æ™¯åŒº
æ»å·	å®‰å¾½	55	72	17	20%	4	æ»å·å¸‚ç…çŠå±±æ™¯åŒº
é»„å±±	å®‰å¾½	55	72	17	20%	4	é»„å±±å¸‚é»„å±±é£æ™¯åŒº
å®£åŸ	å®‰å¾½	55	72	17	20%	4	å®£åŸå¸‚ç»©æºªé¾™å·æ™¯åŒº
åŒ—äº¬	åŒ—äº¬	120	150	30	30%	4	æ•…å®«åšç‰©é™¢
åŒ—äº¬	åŒ—äº¬	120	150	30	30%	4	å¤©å›å…¬å›­
åŒ—äº¬	åŒ—äº¬	120	150	30	30%	4	é¢å’Œå›­
åŒ—äº¬	åŒ—äº¬	120	150	30	30%	4	å…«è¾¾å²­ â€” æ…•ç”°å³ªé•¿åŸæ—…æ¸¸åŒº
å—å¹³	ç¦å»º	240	260	20	25%	4	å—å¹³å¸‚æ­¦å¤·å±±æ™¯åŒº
è†ç”°	ç¦å»º	240	260	20	25%	4	è†ç”°å¸‚æ¹„æ´²å²›å¦ˆç¥–æ–‡åŒ–æ—…æ¸¸åŒº
å¦é—¨	ç¦å»º	240	260	20	25%	4	å¦é—¨å¸‚é¼“æµªå±¿é£æ™¯åèƒœåŒº
å¦é—¨	ç¦å»º	240	260	20	25%	4	å¦é—¨å¸‚å¦é—¨å›­æ—æ¤ç‰©å›­æ™¯åŒº
ç”˜å—å·	ç”˜è‚ƒ	80	90	10	10%	4	ç”˜å—å·å†¶åŠ›å…³æ—…æ¸¸åŒº
é…’æ³‰	ç”˜è‚ƒ	80	90	10	10%	4	é…’æ³‰å¸‚æ•¦ç…Œè«é«˜çªŸæ™¯åŒº
å…°å·	ç”˜è‚ƒ	80	90	10	10%	4	å…°å·å¸‚å…°å·ç™¾é‡Œé»„æ²³é£æƒ…çº¿å¤§æ™¯åŒº
å¼ æ–	ç”˜è‚ƒ	80	90	10	10%	4	å¼ æ–å¸‚ä¸ƒå½©ä¸¹éœæ—…æ¸¸æ™¯åŒº
å¹¿å·	å¹¿ä¸œ	76	120	44	50%	5	å¹¿å·å¸‚é•¿éš†æ—…æ¸¸åº¦å‡åŒº
æ²³æº	å¹¿ä¸œ	76	120	44	50%	5	æ²³æºå¸‚ä¸‡ç»¿æ¹–é£æ™¯åŒº
æƒ å·	å¹¿ä¸œ	76	120	44	50%	5	æƒ å·å¸‚ç½—æµ®å±±æ™¯åŒº
éŸ¶å…³	å¹¿ä¸œ	76	120	44	50%	5	éŸ¶å…³å¸‚ä¸¹éœå±±æ™¯åŒº
æ·±åœ³	å¹¿ä¸œ	76	120	44	50%	5	æ·±åœ³å¸‚åä¾¨åŸæ—…æ¸¸åº¦å‡åŒº
å´‡å·¦	å¹¿è¥¿	45	60	15	18%	4	å´‡å·¦å¸‚å¾·å¤©è·¨å›½ç€‘å¸ƒæ™¯åŒº
æ¡‚æ—	å¹¿è¥¿	45	60	15	18%	4	æ¡‚æ—å¸‚æ¼“æ±Ÿæ™¯åŒº
æ¡‚æ—	å¹¿è¥¿	45	60	15	18%	4	æ¡‚æ—å¸‚ç‹¬ç§€å³°ãƒ»ç‹åŸæ™¯åŒº
æŸ³å·	å¹¿è¥¿	45	60	15	18%	4	æŸ³å·å¸‚ç¨‹é˜³å…«å¯¨æ™¯åŒº
å®‰é¡º	è´µå·	22	40	18	50%	4	å®‰é¡ºå¸‚é»„æœæ ‘å¤§ç€‘å¸ƒæ™¯åŒº
æ¯•èŠ‚	è´µå·	22	40	18	50%	4	æ¯•èŠ‚å¸‚ç»‡é‡‘æ´æ™¯åŒº
è´µé˜³	è´µå·	22	40	18	50%	4	è´µé˜³å¸‚èŠ±æºªé’å²©å¤é•‡æ™¯åŒº
é»”è¥¿å—å·	è´µå·	22	40	18	50%	4	é»”è¥¿å—å·ä¸‡å³°æ—æ™¯åŒº
ä¸‰äºš	æµ·å—	20	25	5	20%	2	ä¸‰äºšå¸‚å—å±±æ–‡åŒ–æ—…æ¸¸åŒº
ä¸‰äºš	æµ·å—	20	25	5	20%	2	ä¸‰äºšå¸‚å¤©æ¶¯æµ·è§’æ¸¸è§ˆåŒº
ä¿å®š	æ²³åŒ—	35	45	10	20%	4	ä¿å®šå¸‚ç™½æ´‹æ·€æ™¯åŒº
æ‰¿å¾·	æ²³åŒ—	35	45	10	20%	4	æ‰¿å¾·å¸‚æ‰¿å¾·é¿æš‘å±±åº„åŠå‘¨å›´å¯ºåº™æ™¯åŒº
é‚¯éƒ¸	æ²³åŒ—	35	45	10	20%	4	é‚¯éƒ¸å¸‚å¨²çš‡å®«æ™¯åŒº
çŸ³å®¶åº„	æ²³åŒ—	35	45	10	20%	4	çŸ³å®¶åº„å¸‚è¥¿æŸå¡æ™¯åŒº
ç„¦ä½œ	æ²³å—	52	60	8	50%	4	ç„¦ä½œå¸‚äº‘å°å±±é£æ™¯åèƒœåŒº
æ´›é˜³	æ²³å—	52	60	8	50%	4	æ´›é˜³å¸‚é¾™é—¨çŸ³çªŸæ™¯åŒº
æ–°ä¹¡	æ²³å—	52	60	8	50%	4	æ–°ä¹¡å¸‚å®æ³‰æ—…æ¸¸åŒº
éƒ‘å·	æ²³å—	52	60	8	50%	4	éƒ‘å·å¸‚åµ©å±±å°‘æ—å¯ºæ™¯åŒº
å“ˆå°”æ»¨	é»‘é¾™æ±Ÿ	62	70	8	50%	3	å“ˆå°”æ»¨å¸‚å¤ªé˜³å²›æ™¯åŒº
é½é½å“ˆå°”	é»‘é¾™æ±Ÿ	62	70	8	50%	3	é½é½å“ˆå°”å¸‚æ‰é¾™ç”Ÿæ€æ—…æ¸¸åŒº
äº”å¤§è¿æ± 	é»‘é¾™æ±Ÿ	62	70	8	50%	3	äº”å¤§è¿æ± é£æ™¯åŒº
é»„å†ˆ	æ¹–åŒ—	133	150	17	30%	4	é»„å†ˆå¸‚éº»åŸé¾Ÿå³°å±±æ™¯åŒº
ç¥å†œæ¶æ—åŒº	æ¹–åŒ—	133	150	17	30%	4	ç¥å†œæ¶æ—åŒºç¥å†œæ¶æ™¯åŒº
åå °	æ¹–åŒ—	133	150	17	30%	4	åå °å¸‚æ­¦å½“å±±é£æ™¯åŒº
æ­¦æ±‰	æ¹–åŒ—	133	150	17	30%	4	æ­¦æ±‰å¸‚é»„é¹¤æ¥¼å…¬å›­
è¡¡é˜³	æ¹–å—	114	130	16	21%	4	è¡¡é˜³å¸‚å—å²³è¡¡å±±æ—…æ¸¸åŒº
æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·	æ¹–å—	114	130	16	21%	4	æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·å‡¤å‡°å¤åŸæ—…æ¸¸åŒº
å¼ å®¶ç•Œ	æ¹–å—	114	130	16	21%	4	å¼ å®¶ç•Œå¸‚æ­¦é™µæº - å¤©é—¨å±±æ—…æ¸¸åŒº
é•¿æ²™	æ¹–å—	114	130	16	21%	4	é•¿æ²™å¸‚å²³éº“å±±ãƒ»æ©˜å­æ´²æ—…æ¸¸åŒº
æ¾åŸ	å‰æ—	46	55	9	50%	3	æ¾åŸå¸‚å‰éƒ­æŸ¥å¹²æ¹–æ™¯åŒº
å»¶è¾¹æœé²œæ—è‡ªæ²»å·	å‰æ—	46	55	9	50%	3	å»¶è¾¹æœé²œæ—è‡ªæ²»å·é•¿ç™½å±±æ™¯åŒº
é•¿æ˜¥	å‰æ—	46	55	9	50%	3	é•¿æ˜¥å¸‚ä¼ªæ»¡çš‡å®«åšç‰©é¦†
å¸¸å·	æ±Ÿè‹	192	200	8	25%	4	å¸¸å·å¸‚å¤©ç›®æ¹–æ™¯åŒº
è¿äº‘æ¸¯	æ±Ÿè‹	192	200	8	25%	4	è¿äº‘æ¸¯å¸‚è¿å²›æ™¯åŒº
å—äº¬	æ±Ÿè‹	192	200	8	25%	4	å—äº¬å¸‚å¤«å­åº™ - ç§¦æ·®é£å…‰å¸¦æ™¯åŒº
è‹å·	æ±Ÿè‹	192	200	8	25%	4	è‹å·å¸‚è‹å·å›­æ—ï¼ˆæ‹™æ”¿å›­ã€ç•™å›­ã€è™ä¸˜ï¼‰
ä¹æ±Ÿ	æ±Ÿè¥¿	89	100	11	18%	4	ä¹æ±Ÿå¸‚åºå±±æ™¯åŒº
å—æ˜Œ	æ±Ÿè¥¿	89	100	11	18%	4	å—æ˜Œå¸‚æ»•ç‹é˜æ—…æ¸¸åŒº
ä¸Šé¥¶	æ±Ÿè¥¿	89	100	11	18%	4	ä¸Šé¥¶å¸‚ä¸‰æ¸…å±±æ™¯åŒº
ä¸Šé¥¶	æ±Ÿè¥¿	89	100	11	18%	4	ä¸Šé¥¶å¸‚ç¯å²­æ™¯åŒº
æœ¬æºª	è¾½å®	15	40	25	33%	3	æœ¬æºªå¸‚æœ¬æºªæ°´æ´æ™¯åŒº
å¤§è¿	è¾½å®	15	40	25	33%	3	å¤§è¿å¸‚è€è™æ»©æµ·æ´‹å…¬å›­ â€” è€è™æ»©æåœ°é¦†
æ²ˆé˜³	è¾½å®	15	40	25	33%	3	æ²ˆé˜³å¸‚æ²ˆé˜³æ¤ç‰©å›­
é„‚å°”å¤šæ–¯	å†…è’™å¤	44	70	26	50%	3	é„‚å°”å¤šæ–¯å¸‚å“æ²™æ¹¾æ—…æ¸¸åŒº
å‘¼ä¼¦è´å°”	å†…è’™å¤	44	70	26	50%	3	å‘¼ä¼¦è´å°”å¸‚ä¸­ä¿„è¾¹å¢ƒæ—…æ¸¸åŒº
å…´å®‰ç›Ÿ	å†…è’™å¤	44	70	26	50%	3	å…´å®‰ç›Ÿé˜¿å°”å±± - æŸ´æ²³æ—…æ¸¸æ™¯åŒº
å›ºåŸ	å®å¤	35	60	25	20%	3	å›ºåŸå¸‚å…­ç›˜å±±çº¢å†›é•¿å¾æ—…æ¸¸åŒº
é“¶å·	å®å¤	35	60	25	20%	3	é“¶å·å¸‚é•‡åŒ—å ¡è¥¿éƒ¨å½±è§†åŸ
ä¸­å«	å®å¤	35	60	25	20%	3	ä¸­å«å¸‚æ²™å¡å¤´æ—…æ¸¸æ™¯åŒº
æµ·åŒ—å·	é’æµ·	25	50	25	20%	2	æµ·åŒ—å·é˜¿å’ªä¸œç´¢æ™¯åŒº
è¥¿å®	é’æµ·	25	50	25	20%	2	è¥¿å®å¸‚é’æµ·æ¹–æ™¯åŒº
æµå—	å±±ä¸œ	52	60	8	50%	4	æµå—å¸‚å¤©ä¸‹ç¬¬ä¸€æ³‰é£æ™¯åŒº
æµå®	å±±ä¸œ	52	60	8	50%	4	æµå®å¸‚æ›²é˜œæ˜æ•…åŸï¼ˆä¸‰å­”ï¼‰æ—…æ¸¸åŒº
é’å²›	å±±ä¸œ	52	60	8	50%	4	é’å²›å¸‚å¥¥å¸†æµ·æ´‹æ–‡åŒ–æ—…æ¸¸åŒº
æ³°å®‰	å±±ä¸œ	52	60	8	50%	4	æ³°å®‰å¸‚æ³°å±±æ™¯åŒº
å¤§åŒ	å±±è¥¿	46	60	14	50%	4	å¤§åŒå¸‚äº‘å†ˆçŸ³çªŸæ™¯åŒº
æ™‹ä¸­	å±±è¥¿	46	60	14	50%	4	æ™‹ä¸­å¸‚å¹³é¥å¤åŸæ™¯åŒº
ä¸´æ±¾	å±±è¥¿	46	60	14	50%	4	ä¸´æ±¾å¸‚æ´ªæ´å¤§æ§æ ‘å¯»æ ¹ç¥­ç¥–å›­æ—…æ¸¸æ™¯åŒº
å¿»å·	å±±è¥¿	46	60	14	50%	4	å¿»å·å¸‚äº”å°å±±é£æ™¯åèƒœåŒº
æ¸­å—	é™•è¥¿	58	80	22	50%	4	æ¸­å—å¸‚åå±±æ™¯åŒº
è¥¿å®‰	é™•è¥¿	58	80	22	50%	4	è¥¿å®‰å¸‚ç§¦å§‹çš‡å…µé©¬ä¿‘åšç‰©é¦†
è¥¿å®‰	é™•è¥¿	58	80	22	50%	4	è¥¿å®‰å¸‚åæ¸…æ± æ™¯åŒº
å»¶å®‰	é™•è¥¿	58	80	22	50%	4	å»¶å®‰å¸‚å»¶å·é»„æ²³ä¹¾å¤æ¹¾æ™¯åŒº
ä¸Šæµ·	ä¸Šæµ·	35	50	15	20%	1	ä¸Šæµ·å¸‚å´‡æ˜åŒºè¥¿æ²™æ˜ç æ¹–æ™¯åŒº
é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·	å››å·	155	200	45	20%	5	é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·ä¹å¯¨æ²Ÿæ™¯åŒº
é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·	å››å·	155	200	45	20%	5	é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·å››å§‘å¨˜å±±æ™¯åŒº
æˆéƒ½	å››å·	155	200	45	20%	5	æˆéƒ½å¸‚é’åŸå±± - éƒ½æ±Ÿå °æ—…æ¸¸æ™¯åŒº
ç”˜å­œè—æ—è‡ªæ²»å·	å››å·	155	200	45	20%	5	ç”˜å­œè—æ—è‡ªæ²»å·ç¨»åŸäºšä¸æ™¯åŒº
ä¹å±±	å››å·	155	200	45	20%	5	ä¹å±±å¸‚å³¨çœ‰å±±æ™¯åŒº
å¤©æ´¥	å¤©æ´¥	30	40	10	20%	2	å¤©æ´¥å¤æ–‡åŒ–è¡—æ—…æ¸¸åŒºï¼ˆæ´¥é—¨æ•…é‡Œï¼‰
å¤©æ´¥	å¤©æ´¥	30	40	10	20%	2	ç›˜å±±é£æ™¯åèƒœåŒº
æ‹‰è¨	è¥¿è—	68	100	32	50%	2	æ‹‰è¨å¸‚å¸ƒè¾¾æ‹‰å®«æ™¯åŒº
æ‹‰è¨	è¥¿è—	68	100	32	50%	2	æ‹‰è¨å¸‚å¤§æ˜­å¯ºæ™¯åŒº
é˜¿å…‹è‹åœ°åŒº	æ–°ç–†	137	200	63	30%	4	é˜¿å…‹è‹åœ°åŒºå¤©å±±æ‰˜æœ¨å°”æ™¯åŒº
é˜¿å‹’æ³°åœ°åŒº	æ–°ç–†	137	200	63	30%	4	é˜¿å‹’æ³°åœ°åŒºå–€çº³æ–¯æ™¯åŒº
ä¹Œé²æœ¨é½	æ–°ç–†	137	200	63	30%	4	ä¹Œé²æœ¨é½å¸‚å¤©å±±å¤©æ± é£æ™¯åèƒœåŒº
ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·	æ–°ç–†	137	200	63	30%	4	ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·é‚£æ‹‰ææ—…æ¸¸é£æ™¯åŒº
è¿ªåº†è—æ—è‡ªæ²»å·	äº‘å—	160	200	40	40%	4	è¿ªåº†è—æ—è‡ªæ²»å·é¦™æ ¼é‡Œæ‹‰æ™®è¾¾æªå›½å®¶å…¬å›­
æ˜†æ˜	äº‘å—	160	200	40	40%	4	æ˜†æ˜å¸‚çŸ³æ—é£æ™¯åŒº
ä¸½æ±Ÿ	äº‘å—	160	200	40	40%	4	ä¸½æ±Ÿå¸‚ä¸½æ±Ÿå¤åŸæ™¯åŒº
è…¾å†²	äº‘å—	160	200	40	40%	4	è…¾å†²å¸‚å’Œé¡ºå¤é•‡æ™¯åŒº
æ­å·	æµ™æ±Ÿ	230	250	20	10%	4	æ­å·å¸‚è¥¿æ¹–é£æ™¯åèƒœåŒº
ä¸½æ°´	æµ™æ±Ÿ	230	250	20	10%	4	ä¸½æ°´å¸‚äº‘å’Œæ¢¯ç”°æ™¯åŒº
æ¸©å·	æµ™æ±Ÿ	230	250	20	10%	4	æ¸©å·å¸‚åˆ˜ä¼¯æ¸©æ•…é‡Œæ™¯åŒº
èˆŸå±±	æµ™æ±Ÿ	230	250	20	10%	4	èˆŸå±±å¸‚æ™®é™€å±±é£æ™¯åèƒœåŒº
é‡åº†	é‡åº†	67	100	33	30%	4	é‡åº†å¸‚å¤§è¶³çŸ³åˆ»æ™¯åŒº
é‡åº†	é‡åº†	67	100	33	30%	4	é‡åº†å¸‚æ­¦éš†å–€æ–¯ç‰¹æ—…æ¸¸åŒº
é‡åº†	é‡åº†	67	100	33	30%	4	é‡åº†å¸‚æ¶ªé™µåŒºæ­¦é™µå±±å¤§è£‚è°·æ™¯åŒº
é‡åº†	é‡åº†	67	100	33	30%	4	é‡åº†å¸‚å¥‰èŠ‚å¿ç™½å¸åŸãƒ»ç¿å¡˜å³¡æ™¯åŒº`;

        // è§£ææ•°æ®
        function parseData() {
            const lines = rawData.trim().split('\n');
            const data = [];
            
            lines.forEach(line => {
                const parts = line.split('\t');
                if (parts.length >= 8) {
                    data.push({
                        city: parts[0],
                        province: parts[1],
                        stores2024: parseInt(parts[2]),
                        target2025: parseInt(parts[3]),
                        increment: parseInt(parts[4]),
                        franchiseRate: parts[5],
                        attractions: parseInt(parts[6]),
                        attraction5A: parts[7]
                    });
                }
            });
            
            return data;
        }
        
        // æŒ‰çœä»½èšåˆæ•°æ®
        function aggregateByProvince(data) {
            const provinceMap = {};
            
            data.forEach(item => {
                if (!provinceMap[item.province]) {
                    provinceMap[item.province] = {
                        province: item.province,
                        totalIncrement: 0,
                        totalTarget2025: 0,
                        cityCount: new Set(),
                        cities: []
                    };
                }
                
                provinceMap[item.province].totalIncrement += item.increment;
                provinceMap[item.province].totalTarget2025 += item.target2025;
                provinceMap[item.province].cityCount.add(item.city);
                provinceMap[item.province].cities.push(item);
            });
            
            return Object.values(provinceMap).map(p => ({
                ...p,
                cityCount: p.cityCount.size,
                avgIncrement: Math.round(p.totalIncrement / p.cityCount.size * 10) / 10
            }));
        }
        
        // è·å–Top 10åŸå¸‚
        function getTop10Cities(data) {
            const cityMap = {};
            
            data.forEach(item => {
                if (!cityMap[item.city]) {
                    cityMap[item.city] = {
                        city: item.city,
                        province: item.province,
                        increment: item.increment,
                        stores2024: item.stores2024,
                        target2025: item.target2025
                    };
                }
            });
            
            return Object.values(cityMap)
                .sort((a, b) => b.increment - a.increment)
                .slice(0, 10);
        }
        
        // åŸå¸‚åæ ‡æ•°æ®ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
        const cityCoordinates = {
            'åŒ—äº¬': [116.407526, 39.90403],
            'ä¸Šæµ·': [121.473701, 31.230416],
            'å¹¿å·': [113.280637, 23.125178],
            'æ·±åœ³': [114.085947, 22.547],
            'æ­å·': [120.153576, 30.287459],
            'æˆéƒ½': [104.065735, 30.659462],
            'è¥¿å®‰': [108.948024, 34.263161],
            'é‡åº†': [106.504962, 29.533155],
            'æ­¦æ±‰': [114.298572, 30.584355],
            'å—äº¬': [118.767413, 32.041544],
            'å¤©æ´¥': [117.190182, 39.125596],
            'è‹å·': [120.619585, 31.299379],
            'é•¿æ²™': [112.982279, 28.19409],
            'éƒ‘å·': [113.665412, 34.757975],
            'é’å²›': [120.355173, 36.082982],
            'å¤§è¿': [121.618622, 38.91459],
            'å®æ³¢': [121.549792, 29.868388],
            'å¦é—¨': [118.11022, 24.490474],
            // æ·»åŠ æ›´å¤šåŸå¸‚åæ ‡...
        };
        
        // åˆå§‹åŒ–åœ°å›¾
        function initMap() {
            const map = new AMap.Map('mapContainer', {
                zoom: 5,
                center: [104.065735, 30.659462],
                mapStyle: 'amap://styles/blue'
            });
            
            const data = parseData();
            const cityIncrements = {};
            
            data.forEach(item => {
                if (!cityIncrements[item.city]) {
                    cityIncrements[item.city] = item.increment;
                }
            });
            
            // åˆ›å»ºçƒ­åŠ›å›¾æ•°æ®
            const heatmapData = [];
            Object.keys(cityIncrements).forEach(city => {
                if (cityCoordinates[city]) {
                    heatmapData.push({
                        lng: cityCoordinates[city][0],
                        lat: cityCoordinates[city][1],
                        count: cityIncrements[city]
                    });
                }
            });
            
            // æ·»åŠ çƒ­åŠ›å›¾
            const heatmap = new AMap.HeatMap(map, {
                radius: 25,
                opacity: [0, 0.8]
            });
            
            heatmap.setDataSet({
                data: heatmapData,
                max: Math.max(...Object.values(cityIncrements))
            });
            
            // æ·»åŠ æ ‡è®°ç‚¹
            Object.keys(cityIncrements).forEach(city => {
                if (cityCoordinates[city]) {
                    const marker = new AMap.Marker({
                        position: cityCoordinates[city],
                        title: `${city}: +${cityIncrements[city]}å®¶`
                    });
                    
                    marker.setMap(map);
                    
                    const infoWindow = new AMap.InfoWindow({
                        content: `<div style="padding:10px;"><strong>${city}</strong><br/>é—¨åº—å¢é‡: ${cityIncrements[city]}å®¶</div>`
                    });
                    
                    marker.on('click', function() {
                        infoWindow.open(map, marker.getPosition());
                    });
                }
            });
        }
        
        // ç”Ÿæˆçœä»½ç»Ÿè®¡è¡¨æ ¼
        function generateProvinceTable() {
            const data = parseData();
            const provinceData = aggregateByProvince(data);
            const tbody = document.querySelector('#provinceTable tbody');
            
            provinceData.sort((a, b) => b.totalIncrement - a.totalIncrement);
            
            tbody.innerHTML = provinceData.map(p => `
                <tr>
                    <td><strong>${p.province}</strong></td>
                    <td style="color: #e74c3c; font-weight: bold;">+${p.totalIncrement}</td>
                    <td>${p.totalTarget2025}</td>
                    <td>${p.cityCount}</td>
                    <td>${p.avgIncrement}</td>
                </tr>
            `).join('');
        }
        
        // ç”ŸæˆTop 10åŸå¸‚å›¾è¡¨
        function generateTop10Chart() {
            const data = parseData();
            const top10 = getTop10Cities(data);
            
            const ctx = document.getElementById('topCitiesChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: top10.map(city => `${city.city}(${city.province})`),
                    datasets: [{
                        label: 'é—¨åº—å¢é‡',
                        data: top10.map(city => city.increment),
                        backgroundColor: [
                            '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57',
                            '#FF9FF3', '#54A0FF', '#5F27CD', '#00D2D3', '#FF9F43'
                        ],
                        borderColor: '#fff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'é—¨åº—å¢é‡'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'åŸå¸‚'
                            }
                        }
                    }
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            // æ³¨æ„ï¼šæ‚¨éœ€è¦æ›¿æ¢ YOUR_AMAP_KEY ä¸ºå®é™…çš„é«˜å¾·åœ°å›¾APIå¯†é’¥
            // å¯ä»¥åœ¨é«˜å¾·å¼€æ”¾å¹³å°ç”³è¯·ï¼šhttps://lbs.amap.com/
            
            setTimeout(() => {
                try {
                    initMap();
                } catch(error) {
                    console.log('åœ°å›¾åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·æ£€æŸ¥APIå¯†é’¥');
                    document.getElementById('mapContainer').innerHTML = 
                        '<div style="display:flex;align-items:center;justify-content:center;height:100%;background:#f0f0f0;color:#666;">è¯·åœ¨ä»£ç ä¸­é…ç½®æ­£ç¡®çš„é«˜å¾·åœ°å›¾APIå¯†é’¥</div>';
                }
            }, 100);
            
            generateProvinceTable();
            generateTop10Chart();
        };
    </script>
</body>
</html>
